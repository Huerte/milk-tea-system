{% extends 'base.html' %}

{% block title %}Choose Specifics - Milk Tea System{% endblock %}

{% block content %}
<div class="specifics-container">
    <h2>ðŸŽ¯ Choose the Specific Drink, Size and Any Add On</h2>
    <p>Select your drink with pearls, jelly, or pudding</p>
    
    <div class="drinks-grid">
        {% for drink in drinks %}
        <div class="drink-card">
            <h3>{{ drink.name }}</h3>
            <p class="price">${{ drink.base_price }}</p>
            <p class="description">{{ drink.description }}</p>
            
            <form method="post" action="{% url 'choose_specifics' %}" class="order-form">
                {% csrf_token %}
                <input type="hidden" name="drink_id" value="{{ drink.id }}">
                
                <div class="form-group">
                    <label>Size:</label>
                    <select name="size_id" required>
                        {% for size in sizes %}
                        <option value="{{ size.id }}">{{ size.name }} (Ã—{{ size.price_multiplier }})</option>
                        {% endfor %}
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Flavor:</label>
                    <select name="flavor_id">
                        <option value="">No flavor</option>
                        {% for flavor in flavors %}
                        <option value="{{ flavor.id }}">{{ flavor.name }} 
                            {% if flavor.additional_price > 0 %}(+${{ flavor.additional_price }}){% endif %}
                        </option>
                        {% endfor %}
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Add-ons (Pearls, Jelly, Pudding):</label>
                    <div class="toppings-list">
                        {% for topping in toppings %}
                        <label class="checkbox-label">
                            <input type="checkbox" name="toppings" value="{{ topping.id }}">
                            {{ topping.name }} (+${{ topping.price }})
                        </label>
                        {% endfor %}
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Quantity:</label>
                    <input type="number" name="quantity" value="1" min="1" max="10">
                </div>
                
                <button type="submit" class="btn btn-primary">
                    Choose This & Select Payment Method
                </button>
            </form>
        </div>
        {% endfor %}
    </div>
    
    <div class="action-buttons">
        <a href="{% url 'browse_menu' %}" class="btn btn-secondary">
            Back to Menu
        </a>
    </div>
</div>
{% endblock %}
